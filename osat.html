<!doctype html><html><head><title>Osat calc</title>
<!--
I know this is very sloppy coding. I wrote this in about half an hour. Might make updates but I think it does what it needs to right now -- Josh
-->
<meta name="viewport" content="width=device-width, initial-scale=1.25">
<style>
label{display:block}
th,td{border:1px solid black;margin:0;padding:0}
.green{background-color:lime}
.yellow{background-color:yellow}
.red{background-color:red}
</style>
<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script>$(function(){
        //$('#osat').val(73.8);$('#tb').val(65);
        $('#f').submit(function(e){
                /*
                 * tb   = top box (how many surveys in)
                 * t    = target osat
                 * p    = potential osat after more surveys
                 * hs   = number of highly satisfied customers
                 * n    = number of good surveys needed to reach p
                 */
                e.preventDefault();
                osat=$('#osat').val();tb=$('#tb').val();p=0;n=0;
                hs=Math.round(osat*tb*.01);html='';
                while (p*100<=80) {
                n++;tb++;hs++;p=hs/tb;
                if (n>=50) break;
                if (p*100>=80) {
                html+='<tr class=green><th>'+n+'<td>'+Math.round(p*1000)/10;
                } else if (p*100>=76) {
                html+='<tr><th>'+n+'<td>'+Math.round(p*1000)/10;
                } else if (p*100>=74) {
                html+='<tr class=yellow><th>'+n+'<td>'+Math.round(p*1000)/10;
                } else {
                html+='<tr class=red><th>'+n+'<td>'+Math.round(p*1000)/10;
                }
                }
                header='<table><tr><th>Surveys needed<th>to bring OSAT to';
                footer='</table>';
                $('#div').html(header+html+footer);
                $("html, body").animate({ scrollTop: 0 }, "slow");
        });
})</script>
</head><body><div id=div></div>
<form id=f>
<label>OSAT <input id=osat type=number autofocus step=.1></label>
<label>Surveys in <input id=tb type=number></label>
<input type=submit id=b></form>
</body></html>
